{
  "function_score": {
    "functions": [
      {"script_score": {"script": "0.75 + 7. * doc['importance'].value"}},
      {"script_score": {"script": "dist = doc['coordinate'].distanceInKm(${lat}, ${lon}); 4. * exp(- dist / 500)"}}
    ],
    "boost_mode": "multiply",
    "score_mode": "sum",
    "query": {
      "multi_match": {
        "analyzer": "search",
        "type": "cross_fields",
        "fields": [
          "collector_1.default.raw^18", "collector_1.default^2.5", "collector_1.${lang}.raw^18", "collector_1.${lang}^2.5",
          "collector_2.default.raw^6",  "collector_2.default^1.5", "collector_2.${lang}.raw^6",  "collector_2.${lang}^1.5",
          "collector_3.default.raw^3",  "collector_3.default",     "collector_3.${lang}.raw^3",  "collector_3.${lang}"
        ],
        "minimum_should_match": ${should_match},
        "query": "${query}"
      }
    }
  }
}